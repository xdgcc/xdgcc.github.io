<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="史上最完全Mac安装Scrapy指南"><meta name="keywords" content="Python,Scrapy,爬虫"><meta name="author" content="ゴウサク"><meta name="copyright" content="ゴウサク"><title>史上最完全Mac安装Scrapy指南 | Corner&amp;Coder</title><link rel="shortcut icon" href="/xdgcc.jpg"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '6.1.0'
} </script><meta name="generator" content="Hexo 6.1.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">1.</span> <span class="toc-text">准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85pip%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="toc-number">2.</span> <span class="toc-text">安装pip工具包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pip%E6%BA%90%E4%BF%AE%E6%94%B9"><span class="toc-number">3.</span> <span class="toc-text">pip源修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Command-Line-Tools%E5%AE%89%E8%A3%85"><span class="toc-number">4.</span> <span class="toc-text">Command Line Tools安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85Scrapy"><span class="toc-number">5.</span> <span class="toc-text">安装Scrapy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3ImportError-cannot-import-name-xmlrpc-client%E9%97%AE%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">解决ImportError:cannot import name xmlrpc_client问题</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">ゴウサク</div><div class="author-info__description text-center">听听歌 码码字</div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/xdgcc">Follow Me In GitHub</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">16</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">11</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">7</span></a></div></div></div><div id="content-outer"><div class="plain" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Corner&amp;Coder</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div></div><div class="layout" id="content-inner"><article id="post"><div class="plain" id="post-title">史上最完全Mac安装Scrapy指南</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2015-10-04</time><span class="post-meta__separator">|</span><i class="fa fa-inbox" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Python/"> Python</a><span class="post-meta__separator">|</span><span class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">1.2k</span><span class="post-meta__separator">|</span><span>阅读时长: 4 分钟</span></span></div><div class="article-container" id="post-content"><hr>
<blockquote>
<p>博主作为一名python爬虫爱好者，怎能不折腾下Scrapy？于是在折腾了两个下午之后，终于把Scrapy装在了Macbook上。说起来还真的是蛮坎坷的，网上大多是win和Linux下的安装教程，Mac端的安装教程实在是少的可怜，安装初期也是遇到各种各样的错误，经过一番摸索加实践，现总结出最完全的Mac端Scrapy安装指南。</p>
</blockquote>
<blockquote>
<p>更新记录<br>2015年10月5日 - 解决ImportError:cannot import name xmlrpc_client问题</p>
</blockquote>
<hr>
<h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p>安装开始前，你需要知道的几点注意事项和工具：</p>
<ul>
<li><p>MAC OS是自带python 2.7的，而目前Scrapy也只是在python 2.7版本较为稳定，所以你不需要再安装或者配置python环境了，只需要按步骤安装好Scrapy就好了。</p>
</li>
<li><p>作为一个想在Mac上用Scrapy的人，我觉得你应该是知道Homebrew和wget的吧。。。好吧如果你不知道那也没有关系，请移步<a target="_blank" rel="noopener" href="http://brew.sh/index_zh-cn.html">Homebrew</a>。</p>
</li>
<li><p>安装好Homebrew，wget并学会使用（很简单的）。</p>
</li>
<li><p>如果你是开发人员，那么别墨迹了，把Xcode装上吧。如果你不是，那装不装倒是无所谓。</p>
</li>
</ul>
<p>好了，到现在为止我们已经做完了准备工作，接下来我们就开始进入正篇环节——Scrapy安装。</p>
<h3 id="安装pip工具包"><a href="#安装pip工具包" class="headerlink" title="安装pip工具包"></a>安装pip工具包</h3><p>这个必须安装，是基于python的管理工具包。在这里就不多废话了，既然知道Scrapy，没理由不知道pip。我们已经装过了wget，现在我们就用它来获取pip，很简单，打开终端，下面这行命令敲进去执行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br></pre></td></tr></table></figure>

<p>接下来安装pip：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo python get-pip.py</span><br></pre></td></tr></table></figure>

<p>搞定。</p>
<h3 id="pip源修改"><a href="#pip源修改" class="headerlink" title="pip源修改"></a>pip源修改</h3><p>注意，这一步非常重要，很多人在安装Scrapy不成功的第二大原因（稍后再说第一大）就是这个，一定要改啊。博主一想起这个就是泪牛满面啊，折腾的时间大部分都浪费在这里了。</p>
<p>安装完成pip之后，默认的时官方源可能会被我大天朝的长城K.O.掉，我们需要对pip源进行修改，使用咱们国内的源。</p>
<p>首先创建配置文件，默认情况下Mac端好像是没有pip的配置文件的，我们需要自行创建。打开终端，在HOME下创建.pip目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir .pip</span><br></pre></td></tr></table></figure>

<p>接下来创建配置文件pip.conf：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch pip.conf</span><br></pre></td></tr></table></figure>
<p>接下来编辑配置文件，随便使用什么编辑器打开刚刚新建的pip.conf文件，输入以下两行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url = http://pypi.mirrors.ustc.edu.cn/simple</span><br></pre></td></tr></table></figure>
<p>输入完成后保存退出即可，至此，pip源就修改完了，可以进行下一步了。</p>
<blockquote>
<p>有一点要说明一下，就是pip源的问题，国内目前的pipy镜像主要有以下几个：</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://pypi.douban.com/">http://pypi.douban.com/</a>  豆瓣</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://pypi.hustunique.com/">http://pypi.hustunique.com/</a>  华中理工大学</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://pypi.sdutlinux.org/">http://pypi.sdutlinux.org/</a>  山东理工大学</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://pypi.mirrors.ustc.edu.cn/">http://pypi.mirrors.ustc.edu.cn/</a>  中国科学技术大学</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://pypi.v2ex.com/">http://pypi.v2ex.com/</a>    V2EX社区</p>
</blockquote>
<blockquote>
<p>大家可以看自己需要选择，用法都一样，只需要替换配置文件当中index-url的值即可。但<strong>不要忘记后面的&#x2F;simple目录！</strong></p>
</blockquote>
<h3 id="Command-Line-Tools安装"><a href="#Command-Line-Tools安装" class="headerlink" title="Command Line Tools安装"></a>Command Line Tools安装</h3><p>pip在安装Scrapy模块时依赖lxml模块，而pip的默认行为是下载源码进行编译。很多小伙伴在MAC终端中并没有指定C编译器的环境变量啊，找不到include文件夹啊，找不到xmlversion.h文件啊等等问题。木有错，这就是大部分伙子装Scrapy遇到的最大问题！</p>
<p>为了防患于未然，我们先不要着急安装Scrapy，pip源修改完成之后，我们要先回到HOME进行Command Line Tools安装，终端下执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select —install</span><br></pre></td></tr></table></figure>

<p>不管你有没有装Xcode，接下来你只要按照提示一直点确定就好了。</p>
<h3 id="安装Scrapy"><a href="#安装Scrapy" class="headerlink" title="安装Scrapy"></a>安装Scrapy</h3><p>现在做完以上几步之后，我们只需要执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install Scrapy</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>就可以了，如果没有lxml或者OpenSSL，pip会自动帮你装上的。</p>
<p>接下来就是等待安装完成了。</p>
<h3 id="解决ImportError-cannot-import-name-xmlrpc-client问题"><a href="#解决ImportError-cannot-import-name-xmlrpc-client问题" class="headerlink" title="解决ImportError:cannot import name xmlrpc_client问题"></a>解决ImportError:cannot import name xmlrpc_client问题</h3><p>安装完成之后，终端下输入如下命令查看Scrapy版本并验证是否成功，却发现出了问题，提示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError:cannot import name xmlrpc_client</span><br></pre></td></tr></table></figure>

<p>如下图所示<br><img src="http://image.dapaner.top/Snip20151005_6.png"></p>
<p>网上无论如何也找不到解决方案，无奈之下翻墙Google，找到了某外国友人的解决方案。至此，问题告破。</p>
<p>终端下执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -rf /Library/Python/2.7/site-packages/six*</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -rf /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/six*</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install six</span><br></pre></td></tr></table></figure>
<p>卸载掉six并重装，再次查看Scrapy版本，搞定。</p>
<p><img src="http://image.dapaner.top/Snip20151005_7.png"><br><img src="http://image.dapaner.top/Snip20151005_9.png"></p>
<hr>
<p>至此，Scrapy已经成功安装在你的Mac上了，按照博主的步骤一步一步来的话应该是不会出现什么问题的，接下来就是开始尽情地爬啊爬了~~</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">ゴウサク</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://dapaner.top/2015/10/04/史上最完全Mac安装Scrapy指南/">http://dapaner.top/2015/10/04/史上最完全Mac安装Scrapy指南/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://dapaner.top">Corner&Coder</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/Scrapy/">Scrapy</a><a class="post-meta__tags" href="/tags/%E7%88%AC%E8%99%AB/">爬虫</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="/wechatpay.jpg"><div class="post-qr-code__desc">微信赞赏码</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="/alipay.jpg"><div class="post-qr-code__desc">支付宝赞赏码</div></div></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2015/10/06/%E4%BB%8E%E5%87%A0%E5%8F%AA%E5%B0%8F%E7%88%AC%E8%99%AB%E5%BC%80%E5%A7%8B/"><i class="fa fa-chevron-left">  </i><span>从几只小爬虫开始</span></a></div><div class="next-post pull-right"><a href="/2015/10/02/%E6%88%91%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9Mac/"><span>我为什么选择Mac</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '84913d96f60653d72440',
  clientSecret: '82a93cdaf171e21c709424447f3a207b107faddd',
  repo: 'xdgcc.github.io',
  owner: 'xdgcc',
  admin: 'xdgcc',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2015 - 2022 By ゴウサク</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn">粤ICP备19063859号</a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>